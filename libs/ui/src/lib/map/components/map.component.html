<agm-map fxFlexFill [zoom]="4" [fitBounds]="fitBounds">
  <agm-polyline *ngIf="_decodedPolyline$">
    <ng-container *ngFor="let polyline of (_decodedPolyline$ | async)">
      <agm-polyline-point [latitude]="polyline.lat" [longitude]="polyline.lng"></agm-polyline-point>
    </ng-container>
  </agm-polyline>

  <ng-container *ngIf="_markers$">
    <ng-container *ngFor="let marker of (_markers$ | async)">
      <agm-marker [latitude]="marker.point.lat" [longitude]="marker.point.lng" [label]="" [agmFitBounds]="true">
        <agm-info-window [disableAutoPan]="true" *ngIf="marker.infoContent">
          {{ marker.infoContent }}
        </agm-info-window>
      </agm-marker>
    </ng-container>
  </ng-container>
</agm-map>
